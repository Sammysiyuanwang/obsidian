
# 王思远 - 广告算法工程师

-   Phone: 16602120086
-   Email: [wangsiyuan_bupt@163.com](mailto:wangsiyuan_bupt@163.com)

---

### 为什么出来看机会

- 生活原因（70%）
	- 个人打算：女朋友已经回上海。两个人计划后面在上海定居。小红书社区老板都在北京，上海团队在急剧缩小并边缘化。内部改base地需要换业务方向。
- 工作原因（30%）
	- 1.成长性。过来做了非常多基建工作。目前人力少（单点负责），纯业务指标压力大时间紧，大量精力花费在业务需求及各方沟通，真正优化排序算法时间少，长期看不到太多成长和上升空间。
	- 2.方向不完全匹配：以前做推荐广告，现在做搜索的排序，虽然底层一致。但是从业务层面看，以前的经验没法在当前场景发挥作用。
	- 3.当时来时的承诺没有兑现。当时老板和HR承诺会负责一个方向并且带人。目前看较难实现

### 为什么从快手离职

- 更大的空间和更好的发展机会：当时小红书这一波人刚去，刚换血，非常缺人，通过朋友找到我且很有诚意。我个人比较看好小红书的发展，觉得有更大的空间和更好的发展机会。
- 快手频繁变动导致的瓶颈：快手因为频繁组织架构变动，自己的业务也不断在变。当时已经不具备一个能够踏踏实实在一个项目上深耕的条件。自己在直播和plc也已经有一定成果，希望在新领域锻炼领导力的机会。

---

## 项目经历

### 小红书电商搜索排序（2021.11至今）

重建小红书电商搜索排序模块，包括粗排、精排和重排。前半年带2个实习生，后半年单点负责。

-   难点：自废墟之上建新城。接手时，排序模块2年未有迭代，策略代码逻辑混乱，业务代码冗余且无人维护，模型停滞更新，特征超半数失效，线上裸奔无任何监控；
-   基础建设：梳理重建商搜的埋点、订单归因、行为数据流、特征日志流、实时样本拼接、建立商搜排序的监控体系（样本拼接、特征、预估值、auc、实时AB指标）；配合商城侧，完成排序各个模块向新类目体系、商品ID体系和品牌体系迁移；
-   精排：特征清理与体系重建，引入意图特征、社区特征及序列特征，完善query/user/item特征；精排模型纠正错误目标并增加多目标预估，引入多目标模型结构及序列模型结构；
-   重排：上线基于搜索业务特点、badcase反馈及query意图的多种重排策略：品牌意图下优质店铺提权；类目大词下打散策略；特定类目词下的自营商品扶植策略；服饰鞋包类目下性别策略；相似封面图去重策略等；
-   相关性：商搜第一版相关性模型的训练与上线，把相关性预估从逻辑升级为模型。

### 快手商业化模型组（2020.6 - 2021.11 ）

**1.快手粉条直播模型优化**

负责粉条直播消耗最大的两个目标模型优化：直播间进人(cpc)和购物车商品点击(cpa)。

-   难点：业务场景复杂，分单双列、快手/极速版、五种资源位、2种投放方式、2种计费方式；
-   基础建设：参与直播商业化模型从零到一的基础建设。完善数据打点、数据流实时拼接、实时特征产出及接入、实时交叉AUC监控等基础功能；在模型infer侧推动直播物料单独特征构建流程；
-   模型优化：特征优选、序列特征和实时特征新增，多目标模型，transformer&DIN模块使用、模型合并、模型迁移与热启动；
-   效果：直播间进人目标每天消耗100w→2000w，AB消耗+15%，CPM+18%；购物车点击目标消耗10w→300w，AB消耗+53%，cpm+41%。

解释：
- 特征优选：通过shuffle特征看auc的方式
- 序列特征：停留时间长的主播、带货品类ID制作序列特征
- 实时特征：与电商 & MMU合作，接入直播间的实时商品特征，价格/类目/商品主图/折扣
- 多目标模型：p3s/p5s, follow, click(双列), p60s, cart_click, 
- 多场景：单双列，双列多乘一个ctr
- 模型合并：作品引流和直播直投的模型合并，物料不同，share user特征，作品引流item塔，直播直投item塔，两边分别训练。线上根据类型不同去预测
- 模型结构：transformer & DIN模块？？？
- 模型迁移与热启动，重新建结构，然后用tf.asign 把以前模型的参数复制过来，新的参数不随机，使用上一个特征的参数直接初始化，增加特征，连接边，继续线上训练

**2.快手粉条/磁力金牛短视频模型优化**

负责磁力金牛/快手粉条PLC(photo left corner)模型体系的搭建和优化。对不同场景的相似目标，抽象模型预估能力，完成对短视频组件7种前链路目标和3种后链路目标的建模和预估，支持4个商业化产品。

-   难点：目标繁杂，场景不一，有浅度有深度，不同目标之间出价类型不同、计费点不同、样本量不同、后验率不同；
-   模型优化：拉齐数据流，搭建模型的数据、训练、预估全套体系，并抽象模型能力，支持对粉条各个产品线的快速部署。一套多目标模型体系同时支持粉条商业推广cpm、超级加热ocpm、品牌粉条cpm和磁力金牛直播预约cpc多个产品；
-   效果：plc计费目标从无到有，粉条plc目标每日消耗300w+，磁力金牛直播预约每日消耗100w+，峰值破千万（辛巴等头部主播爱投）。

解释：
0. 前链路目标：商品点击、直播预约点击、POI点击、小程序点击、游戏点击、链接点击、应用下载点击
1. 后链路目标：线索提交，直播预约成交，订单成交
2. 数据流拉齐，历史原因，粉条的物料就是photo_id，金牛的物料叫做creative_id（蒙版），两者本身不能兼容。推进数据流和和infer的物料合并，粉条creative_id直接填入photo_id
3. 背景：烟囱式生产模型。目标拉齐（各个产品埋点对齐，算法只用一套），简单但较难推进。需要前端、后端、数据产品、策略产品各方配合
4. 如何解决多场景问题。前链路一个模型，后链路一个模型。share_bottom + mmoe +  multi_head模式，数量过少的目标合并为一个head，然后分别校准？如何校准？

### 阿里本地生活 - 饿了么广告 （2018.4 - 2020.6）

**1.饿了么效果广告Rank主模型**

负责对ctr，cvr两大优化目标，app、支付宝、手淘三大流量入口，首页、金刚页两个资源位的模型进行迭代优化：

-   模型深度化: 模型升级，Xgboost改造为DeepFM模型；
-   模型复杂化：模型结构改造，根据外卖业务行为和地点特性，引入attention模块，充分发掘用户行为特征和地理位置特征的作用；
-   特征全面化：大量引入ID类特征，包括用户商户ID、用户历史行为（点击、下单、加购、搜索）、用户和商户关键词特征、地理信息特征、商户名称特征。

**2.饿了么优享大牌展示广告**

-   负责CPM排序算法模型，旨在降低有限RPM的情况下提高商户的ROI，保障广告主的利益与广告投放效果。
-   CPM建议出价算法，提供商户合理的CPM建议出价。

解释：
ROI = ctr * cvr * price / cost(cpm)
- CPM建议出价是根据ROI去反推的。由于主要都是大型连锁店投，大KA的ROI保障是运营同学设置。其他采用了default
- CPM排序。商户自主出CPM价格。但是算法内部需要保证商户的ROI，因此需要在保证ROI达标的基础上给予CPM排序。按cpm计费但是优化商户的下单效率。其实是OCPM的雏形。模型预估 ctr, cvr & price，卡了一个ROI的门槛，保证用户的转化成本。只不过当时是纯粹算法来保证ROI，没有超成本/欠成本，商户赔付这些东西。当时的CPM是广告主自主出价，我们帮助设置最低ROI；OCPM是广告主直接设置转化成本。

**3.B端算法：**

-   建议出价及点击数预估；
-   连锁店自动托管出价算法；
-   抢位助手算法。

解释：
- 建议出价&点击数预估算法：基于回放的大数据处理策略（spark模拟），从最低价到最高价进行模拟出价，（因为当天所有的率都已经落盘），假设其他一切都不变的情况的，改变该商户的出价，重新计算排序分，看能在当天拿到多少曝光，即可得到所有可能出价的真实曝光数。前段展示的时候，会是一个快装拉条的形式，看到每个出价对应的曝光数。
- 连锁店自动托管算法：
	- 功能：提供给连锁店商户的托管功能。总账户只需要设置预算和投放店铺，托管算法自动为每个分店出价。
	- 工作：1.托管商户的基础推荐出价模拟算法；2.线上基于pCVR的自动调价算法。整体思路先模拟，给定大致区间，然后根据 pcvr和实际 cvr的比值进行PID调价。
- 抢位助手算法：
	- 功能：面向商户的抢位功能，商户设置抢位价格区间，如果区间内出价能够抢到目标位置，则发起抢位
		1. 正常排序
		2. 根据位置（固定位置用来触发抢位），遍历发起抢位的商户价格，从最高价开始遍历，看谁能抢到这个位置，找到这个商户，然后选择该商户能抢到这个位置的最低价。发起抢位。

